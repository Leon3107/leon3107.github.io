
<!DOCTYPE html>
<html>
<head>
  <title>Geburtstagsquiz</title>
  <link rel="stylesheet" href="../index.css">
</head>
<body>

<div class="page-padding">
  <h1>Quiz 1</h1>
  <a href="start/index.html" style="text-decoration: underline;">ZurÃ¼ck</a>
  <div id="progress"></div>
  <div id="quiz"></div>
</div>

<script>
const questions = [
  { 
    q: "2+2?", 
    a: "4", 
    options: ["3", "4", "5", "22"] 
  },
  { 
    q: "Hauptstadt von Frankreich?", 
    a: "Paris", 
    options: ["Berlin", "Madrid", "Paris", "Rom"] 
  },
  { 
    q: "Farbe von Gras?", 
    a: "GrÃ¼n", 
    options: ["Blau", "Gelb", "GrÃ¼n", "Rot"] 
  }
];

const quizId = "quiz1";
const max = questions.length;

// Max immer abspeichern
localStorage.setItem(quizId + "_max", max);

// Lade Fortschritt (wie viele Fragen schon korrekt beantwortet)
let progress = parseInt(localStorage.getItem(quizId + "_progress")) || 0;

function renderQuestion() {
  if (progress >= max) {
    // Fertig â†’ zurÃ¼ck zur Startseite
    window.location.href = "start/index.html";
    return;
  }

  const q = questions[progress];

  // Fortschrittsanzeige
  document.getElementById("progress").innerHTML = `
    <p><b>Frage ${progress + 1} von ${max}</b></p>
    <progress value="${progress}" max="${max}"></progress>
  `;

  // Frage + Antwortoptionen
  let optionsHtml = q.options.map((opt, i) => `
    <label style="display:block;margin:4px 0;">
      <input type="radio" name="answer" value="${opt}">
      ${opt}
    </label>
  `).join("");

  document.getElementById("quiz").innerHTML = `
    <p>${q.q}</p>
    ${optionsHtml}
    <button onclick="checkAnswer()">Antwort prÃ¼fen</button>
  `;
}

function checkAnswer() {
  const selected = document.querySelector('input[name="answer"]:checked');
  if (!selected) {
    alert("Bitte eine Antwort auswÃ¤hlen!");
    return;
  }

  const userAnswer = selected.value;
  const correctAnswer = questions[progress].a;

  if (userAnswer === correctAnswer) {
    progress++;
    localStorage.setItem(quizId + "_progress", progress);

    if (progress >= max) {
      alert("Alle Fragen geschafft ðŸŽ‰");
      window.location.href = "start/index.html";
    } else {
      renderQuestion();
    }
  } else {
    alert("Falsch, versuch's nochmal!");
  }
}

renderQuestion();
</script>
</body>
</html>